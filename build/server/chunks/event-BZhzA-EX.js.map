{"version":3,"file":"event-BZhzA-EX.js","sources":["../../../.svelte-kit/adapter-node/chunks/event.js"],"sourcesContent":["let request_event = null;\nlet als;\nimport(\"node:async_hooks\").then((hooks) => als = new hooks.AsyncLocalStorage()).catch(() => {\n});\nfunction getRequestEvent() {\n  const event = request_event ?? als?.getStore();\n  if (!event) {\n    let message = \"Can only read the current request event inside functions invoked during `handle`, such as server `load` functions, actions, endpoints, and other server hooks.\";\n    if (!als) {\n      message += \" In environments without `AsyncLocalStorage`, the event must be read synchronously, not after an `await`.\";\n    }\n    throw new Error(message);\n  }\n  return event;\n}\nfunction with_event(event, fn) {\n  try {\n    request_event = event;\n    return als ? als.run(event, fn) : fn();\n  } finally {\n    request_event = null;\n  }\n}\nexport {\n  getRequestEvent as g,\n  with_event as w\n};\n"],"names":[],"mappings":"AAAA,IAAI,aAAa,GAAG,IAAI;AACxB,IAAI,GAAG;AACP,OAAO,kBAAkB,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,GAAG,GAAG,IAAI,KAAK,CAAC,iBAAiB,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM;AAC5F,CAAC,CAAC;AACF,SAAS,eAAe,GAAG;AAC3B,EAAE,MAAM,KAAK,GAAG,aAAa,IAAI,GAAG,EAAE,QAAQ,EAAE;AAChD,EAAE,IAAI,CAAC,KAAK,EAAE;AACd,IAAI,IAAI,OAAO,GAAG,gKAAgK;AAClL,IAAI,IAAI,CAAC,GAAG,EAAE;AACd,MAAM,OAAO,IAAI,2GAA2G;AAC5H;AACA,IAAI,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC;AAC5B;AACA,EAAE,OAAO,KAAK;AACd;AACA,SAAS,UAAU,CAAC,KAAK,EAAE,EAAE,EAAE;AAC/B,EAAE,IAAI;AACN,IAAI,aAAa,GAAG,KAAK;AACzB,IAAI,OAAO,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE;AAC1C,GAAG,SAAS;AACZ,IAAI,aAAa,GAAG,IAAI;AACxB;AACA;;;;"}